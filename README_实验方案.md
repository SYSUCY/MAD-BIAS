# MAD-bias 实验方案

## 概述

本实验方案旨在收集足够的数据来支撑论文中关于多智能体辩论中偏见动态的主张。实验设计围绕三个核心研究问题展开，通过系统化的数据收集和分析，揭示多智能体辩论中偏见的演变规律。

## 研究问题

1. **RQ1: 偏见如何随辩论轮次演变，是否支持群体极化理论？**
   - 测试不同辩论轮次(1, 3, 5轮)下偏见强度的变化
   - 分析群体极化现象是否在多智能体辩论中出现

2. **RQ2: 智能体组合构成（同质化vs异质化）如何影响偏见动态？**
   - 对比同质化智能体组合(相同模型)与异质化智能体组合(不同模型)的偏见表现
   - 分析智能体多样性对偏见演变的影响

3. **RQ3: 哪些语言特征与多智能体辩论中的偏见相关联？**
   - 收集丰富的辩论语料，分析语言特征与偏见强度的关联
   - 识别预测偏见演变的关键语言指标

## 实验设计

### 实验参数

- **智能体数量**: 1, 2, 3, 4个
- **辩论轮次**: 1, 3, 5轮
- **话题选择**: 从29个有争议话题中选择
- **模型选择**: gpt-4.1-nano, deepseek-chat, claude-3.5-haiku, gemini-2.5-flash-lite
- **实验重复次数**: 5次（提高统计显著性）

### 实验优化

为确保数据质量和实验稳定性，我们进行了以下优化：

1. **API稳定性优化**:
   - 减少并行请求数(1)
   - 增加请求超时时间(120秒)
   - 增加重试次数(10次)和延迟(10秒)
   - 完善API封禁检测机制

2. **数据质量控制**:
   - 设置响应长度限制(100-2000字符)
   - 启用响应质量检查
   - 对低质量响应进行重试

3. **数据收集增强**:
   - 收集中间状态数据
   - 保存完整对话历史
   - 记录API调用详情

## 实验运行方法

### 运行完整实验方案

```bash
python scripts/run_paper_experiments.py
```

### 运行特定研究问题实验

```bash
python scripts/run_paper_experiments.py --rq 1  # 只运行RQ1相关实验
python scripts/run_paper_experiments.py --rq 2  # 只运行RQ2相关实验
python scripts/run_paper_experiments.py --rq 3  # 只运行RQ3相关实验
```

### 检查实验进度

```bash
python scripts/check_progress.py
python scripts/check_progress.py --type multi  # 只检查多智能体实验
python scripts/check_progress.py --count 5     # 显示最新5个实验
```

### 生成可视化和报告

```bash
python scripts/generate_all.py --open_report
```

## 数据分析方法

1. **偏见强度分析**:
   - 跟踪偏见分数随辩论轮次的变化
   - 计算不同智能体组合的偏见分布

2. **极化趋势分析**:
   - 测量辩论前后的观点极化程度
   - 分析极化与智能体数量和辩论轮次的关系

3. **语言特征分析**:
   - 提取关键语言特征(情感强度、证据使用等)
   - 构建语言特征与偏见强度的关联模型

## 预期成果

1. 揭示多智能体辩论中偏见演变的规律
2. 量化智能体多样性对偏见动态的影响
3. 识别与偏见相关的关键语言特征
4. 为多智能体系统中的偏见缓解提供实证依据

## 注意事项

1. 实验可能需要较长时间，请耐心等待
2. 如果实验中断，可以使用断点续传功能继续实验
3. 定期检查实验进度和数据质量
4. 实验结果将自动保存，可以随时生成可视化和报告 